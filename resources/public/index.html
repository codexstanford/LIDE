<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>LIDE</title>
    <style type="text/css">
      html, body, #app, #app-container {
        height: 100%;
        margin: 0;
        overflow: hidden;
      }

      #app-container {
        display: flex;
        flex-flow: column;
        height: 100%;
      }

      .work-viewport {
        display: flex;
        flex-flow: row;
        height: 100%;
      }

      .toolbar {
        position: relative;
        display: flex;
        padding: 5px;
        gap: 5px;
        border-top: 1px solid #ccc;
      }

      .toolbar__saved-popup {
        position: absolute;
        top: -35px;
        background: white;
        padding: 5px;
        box-shadow: 0 0 5px 3px #ccc;
        border: 1px solid #aaa;
      }

      .inspectors {
        display: flex;
      }

      .graph-panel {
        flex-grow: 1;
      }

      .epilog-inspector {
        width: 350px;
        overflow-y: scroll;
      }

      .code {
        flex: 1 0 auto;
        box-sizing: border-box;
        min-height: 100%;
        margin: 0;
        padding: 20px;
        border-left: 1px solid #ccc;
        background-color: white;
      }

      svg {
        /* SVG is inline by default, which causes annoying line-height
           jiggery-pokery. block is more predictable */
        display: block;
      }

      svg text {
        user-select: none;
      }

      svg text {
        dominant-baseline: middle;
      }

      .graph__bg {
        fill: #eee;
      }

      .button-add {
        margin: 0 5px;
      }

      .rule__wrapper {
        display: flex;
      }

      .rule {
        position: relative; /* need this to calculate offsetTop for attributes */
        display: flex;
        flex-direction: column;
        border: 1px solid #666;
        border-radius: 4px;
        background-color: white;
        user-select: none;
      }

      .rule__tutor {
        padding: 5px;
        font-size: 0.9em;
        color: #666;
      }

      .rule__head-predicate {
        padding: 5px;
      }

      .rule__bg {
        fill: white;
      }

      .rule__border {
        pointer-events: none;
        fill: transparent;
        vector-effect: non-scaling-stroke;
        shape-rendering: crispedges;
        stroke: #666;
      }

      .rule--highlight {
        stroke: green;
      }

      .rule__add-arg {
        cursor: pointer;
        fill: #555;
      }

      .rule__internal-bg {
        fill: #ccc;
      }

      .rule__button-bg {
        cursor: pointer;
        fill: white;
      }

      .rule__button-label {
        pointer-events: none;
        fill: #555;
      }

      .body-literal {
        border: 1px solid #666;
        margin: 0 5px;
      }

      .fact__wrapper {
        display: flex;
      }

      .fact {
        position: relative; /* need this to calculate offsetTop for attributes */
        display: flex;
        flex-direction: column;
        padding: 5px;
        border: 1px solid #666;
        border-radius: 4px;
        background-color: white;
        user-select: none;
      }

      .fact__attributes {
        display: table; /* can't do a real table because then offsetTop doesn't work */
      }

      .fact__attribute {
        display: table-row;
        vertical-align: top;
      }

      .fact__attribute-cell {
        display: table-cell;
      }

      .fact__subobject-socket::before {
        content: "‚óè";
      }

      .fact__subobject-socket {
        text-align: right;
      }

      .defeat-connector {
        pointer-events: none;
        stroke: red;
        fill: red;
      }

      .defeat-connector__clickable {
        cursor: pointer;
      }

      .eip-svg-text__input {
        box-sizing: border-box;
        width: 100%;
      }

      .eip-plain-text {
        border: 0;
        padding: 2px 5px;
        font-weight: bold;
      }

      #width-test-svg {
        visibility: hidden;
      }
    </style>
  </head>
  <body>
    <noscript>
      lide is a JavaScript app. Please enable JavaScript to continue.
    </noscript>
    <div id="app"></div>
    <svg id="width-test-svg"></svg>
    <script>
      window.lide = (function () {
        const xmur3 = str => {
          for(var i = 0, h = 1779033703 ^ str.length; i < str.length; i++) {
            h = Math.imul(h ^ str.charCodeAt(i), 3432918353);
            h = h << 13 | h >>> 19;
          } return function() {
            h = Math.imul(h ^ (h >>> 16), 2246822507);
            h = Math.imul(h ^ (h >>> 13), 3266489909);
            return (h ^= h >>> 16) >>> 0;
          }
        };

        const mulberry32 = a => {
          return function() {
            var t = a += 0x6D2B79F5;
            t = Math.imul(t ^ t >>> 15, t | 1);
            t ^= t + Math.imul(t ^ t >>> 7, t | 61);
            return ((t ^ t >>> 14) >>> 0) / 4294967296;
          };
        };

        const hashString = s => {
          return mulberry32(xmur3(s)())();
        };

        return { hashString };
      })();
    </script>
    <script src="/js/compiled/app.js"></script>
  </body>
</html>
